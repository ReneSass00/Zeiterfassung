@inherits LayoutComponentBase

<MudLayout>
    <MudAppBar Elevation="1" Color="Color.Primary">
        <MudText Typo="Typo.h6" Class="ml-2">Zeiterfassung</MudText>
        <MudSpacer />
        <AuthorizeView>
            <Authorized>
                <MudText Typo="Typo.body1" Class="mr-4">Hallo, @context.User.Identity?.Name!</MudText>
                <form action="Identity/Account/Logout" method="post">
                    <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Text" Color="Color.Inherit">Logout</MudButton>
                </form>
            </Authorized>
            <NotAuthorized>
                <MudButton Href="Identity/Account/Register" Color="Color.Inherit" Variant="Variant.Text">Registrieren</MudButton>
                <MudButton Href="Identity/Account/Login" Color="Color.Inherit" Variant="Variant.Text">Login</MudButton>
            </NotAuthorized>
        </AuthorizeView>
    </MudAppBar>

    <MudDrawer Open="true" Elevation="1" Variant="DrawerVariant.Persistent" Anchor="Anchor.Left" Class="transition-transform duration-300">
        <MudNavMenu>
            <MudNavLink Href="/" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>
            <MudNavLink Href="/projects" Icon="@Icons.Material.Filled.Work">Projekte</MudNavLink>
            <MudNavLink Href="/time-tracking" Icon="@Icons.Material.Filled.Timer">Zeiterfassung</MudNavLink>
            <MudNavLink Href="/reports" Icon="@Icons.Material.Filled.Assessment">Berichte</MudNavLink>
        </MudNavMenu>
    </MudDrawer>

    <MudMainContent Class="p-6">
        <MudPaper Class="mx-auto max-w-screen-md p-4" Elevation="3">
            @Body
        </MudPaper>
    </MudMainContent>

    @* NEU: Diese Provider sind für Dialoge und Benachrichtigungen essentiell *@
    <MudDialogProvider />
    <MudSnackbarProvider />
    <MudPopoverProvider />

</MudLayout>